# 库存服务系统接口设计文档

### 商品（commodity）

***

#### 一、根据类型查询所有商品

GET：/commodity

> 接口参数

```
{
	"type_id":[type_id_1,type_id_2, ... ,type_id_N]
}
```

> 返回数据

```
{
	"commodity":[
		{
			"commodity_id":商品id,
			"commodity_name":"商品名称",
			"quantity_in_stock": 库存剩余数量,
			"type": [
				{
					"type_id": 类型id,
					"type": "类型"
				},
				{
					"type_id": 类型id,
					"type": "类型"
				}
			],
			"picture":[
				{
					"picture_name":"图片名称",
					"picture_file":img
				},
				{
					"picture_name":"图片名称",
					"picture_file":img
				}
			],
			"spec":[
				{
					"spec_id":规格id,
					"spec_name":"规格名称",
					"spec_info_val":规格值(数据类型不固定)
				},
				{
					"spec_id":规格id,
					"spec_name":"规格名称",
					"spec_info_val":规格值(数据类型不固定)
				}
			],
			"remark": "备注"
		}，
		{
			"commodity_id":商品id,
			"commodity_name":"商品名称"
			"quantity_in_stock": 库存剩余数量,
			"type": [
				{
					"type_id": 类型id,
					"type": "类型"
				},
				{
					"type_id": 类型id,
					"type": "类型"
				}
			],
			"picture":[
				{
					"picture_name":"图片名称",
					"picture_file":img图片文件
				},
				{
					"picture_name":"图片名称",
					"picture_file":img图片文件
				}
			],
			"spec":[
				{
					"spec_id":规格id,
					"spec_name":"规格名称",
					"spec_info_val":规格值(数据类型不固定)
				},
				{
					"spec_id":规格id,
					"spec_name":"规格名称",
					"spec_info_val":规格值(数据类型不固定)
				}
			],
			"remark": "备注"
		}
	]
}
```

#### 二、查询指定商品信息

GET：/commodity/{commodity_id}

>  接口参数

```
commodity_id:商品id
```

>  返回数据

```
{
	"commodity_id":商品id,
	"commodity_name": "商品名称",
	"quantity_in_stock": 库存剩余数量,
	"type": [
		{
			"type_id": 类型id,
			"type": "类型"
		},
		{
			"type_id": 类型id,
			"type": "类型"
		}
	],
	"picture":[
		{
			"picture_name":"图片名称",
			"picture_file":img图片文件
		},
		{
			"picture_name":"图片名称",
			"picture_file":img图片文件
		}
	],
	"spec":[
		{
			"spec_id":规格id,
			"spec_name":"规格名称",
			"spec_info_val":规格值(数据类型不固定)
		},
		{
			"spec_id":规格id,
			"spec_name":"规格名称",
			"spec_info_val":规格值(数据类型不固定)
		}
	],
	"remark": "备注"
}
```

#### 三、新增商品

POST：/commodity

> 接口参数

```
{
	"commodity_name": "商品名称",
	"quantity_in_stock": 商品库存数量,
	"type": [type_id_1,type_id_2, ... ,type_id_N],
	"spec":[
		{
			"spec_id":规格id,
			"spec_info_val":规格值(数据类型不固定)
		},
		{
			"spec_id":规格id,
			"spec_info_val":规格值(数据类型不固定)
		}
	],
	"remark": "备注"
}
```

> 返回数据

```
{
	"commodity_id":商品id,
	"commodity_name": "商品名称",
	"quantity_in_stock": 商品库存数量,
	"type": [
		{
			"type_id": 类型id,
			"type": "类型"
		},
		{
			"type_id": 类型id,
			"type": "类型"
		}
	],
	"spec":[
		{
			"spec_id":规格id,
			"spec_name":"规格名称",
			"spec_info_val":规格值(数据类型不固定)
		},
		{
			"spec_id":规格id,
			"spec_name":"规格名称",
			"spec_info_val":规格值(数据类型不固定)
		}
	],
	"remark": "备注"
}
```

#### 四、 新增商品图片

POST：/commodity_image

> 接口参数

```
{
	"commodity_id": 商品id,
	[image1, image2, image3, ...]	
}
```

> 返回数据

```
[
	"picture":[
		{
			"picture_id": 图片id,
			"path": "图片名称",
			"picture_name": "图片路径"
		},
		{
			"picture_id": 图片id,
			"path": "图片名称",
			"picture_name": "图片路径"
		}
]
```

#### 五、修改商品信息

PATCH：/commodity

> 接口参数

```
{
	"commodity_id":商品id,
	"commodity_name": "商品名称",
	"quantity_in_stock": 商品库存数量,
	"type": [type_id_1,type_id_2, ... ,type_id_N],
	"spec":[
		{
			"spec_id":规格id,
			"spec_info_val":规格值(数据类型不固定)
		},
		{
			"spec_id":规格id,
			"spec_info_val":规格值(数据类型不固定)
		}
	],
	"remark": "备注"
}
```

> 返回数据

```
{
	"commodity_id":商品id,
	"commodity_name": "商品名称",
	"quantity_in_stock": 商品库存数量,
	"type": [
		{
			"type_id": 类型id,
			"type": "类型"
		},
		{
			"type_id": 类型id,
			"type": "类型"
		}
	],
	"spec":[
		{
			"spec_id":规格id,
			"spec_name":"规格名称",
			"spec_info_val":规格值(数据类型不固定)
		},
		{
			"spec_id":规格id,
			"spec_name":"规格名称",
			"spec_info_val":规格值(数据类型不固定)
		}
	],
	"remark": "备注"
}
```

#### 六、修改商品图片

PATCH：/commodity_image

> 接口参数

```
{
	"commodity_id": 商品id,
	[image1, image2, image3, ...]
}
```

> 返回参数

```
[
	"picture":[
		{
			"picture_id": 图片id,
			"path": "图片名称",
			"picture_name": "图片路径"
		},
		{
			"picture_id": 图片id,
			"path": "图片名称",
			"picture_name": "图片路径"
		}
]
```

#### 七、删除商品

DELETE：/commodity/{commodity_id}

> 接口参数

```
commodity_id：商品id
```

> 返回数据

```
{
	"message": "success"
}
```

#### 八、查询所有商品

GET：/commodities

> 接口参数

```
无
```

> 返回数据

```
[
	{
		"commodity_id":商品id,
		"commodity_name": "商品名称",
		"quantity_in_stock": 库存剩余数量,
		"type": [
			{
				"type": "类型"
			},
			{
				"type": "类型"
			}
		],
		"remark": "备注"
	},
	{
		"commodity_id":商品id,
		"commodity_name": "商品名称",
		"quantity_in_stock": 库存剩余数量,
		"type": [
			{
				"type": "类型"
			},
			{
				"type": "类型"
			}
		],
		"remark": "备注"
	}
]
```

### 商品类型（type）

***

#### 一、增加商品类型

POST：/type

> 接口参数

```
{
	"type": "商品类型名称"
}
```

> 返回数据

```
{
	"type_id": 商品类型id,
	"type": "商品类型名称"
}
```

#### 二、查询所有商品类型

GET：/type

> 接口参数

```
无
```

> 返回数据

```
{
	"type_list":[
		{
			"type_id": 商品类型id,
			"type": "商品类型名称"
		},
		{
			"type_id": 商品类型id,
			"type": "商品类型名称"
		}
	]
}
```

#### 三、修改指定商品类型

PATCH：/type

> 接口参数

```
{
	"type_id": 商品类型id,
	"type":"商品类型"
}
```

> 返回数据

```
{
	"type_id": 商品类型id,
	"type": "商品类型名称"
}
```

#### 四、删除商品类型

DELETE：/type/{type_id}

> 接口参数

```
type_id: 商品类型id
```

> 返回数据

```
{
	"message": "success"
}
```

### 规格（spec）

***

#### 一、添加规格

POST：/spec

>接口参数

```
{
	"spec"：[
		{
			"spec_name":"规格名称",
			"data_type_id":规格值数据类型id,
			"spec_remark":"规格的描述"
		},
		{
			"spec_name":"规格名称",
			"data_type_id":规格值数据类型id,
			"spec_remark":"规格的描述"
		}
	]
}
```

> 返回数据

```
[
	{
		"spec_id":规格id,
		"spec_name":"规格名称",
		"data_type":"规格值数据类型",
		"spec_remark":"规格的描述"
	},
	{
		"spec_id":规格id,
		"spec_name":"规格名称",
		"data_type":"规格值数据类型",
		"spec_remark":"规格的描述"
	}
]
```

#### 二、查询所有规格

GET：/spec

> 接口参数

```
无
```

> 返回数据

```
[
	{
		"spec_id":规格id,
		"spec_name":"规格名称",
		"data_type":"规格值数据类型",
		"spec_remark":"规格的描述"
	},
	{
		"spec_id":规格id,
		"spec_name":"规格名称",
		"data_type":"规格值数据类型"
		"spec_remark":"规格的描述"
	}
]
```

#### 三、修改规格

UPDATE：/spec

> 接口参数

```
{
	"spec_id":规格id,
	"spec_name":"规格名称",
	"data_type_id":规格值数据类型id,
	"spec_remark":"规格的描述"
}
```

> 返回数据

```
{
	"spec_id":规格id,
	"spec_name":"规格名称",
	"data_type":"规格值数据类型",
	"spec_remark":"规格的描述"
}
```

### 数据类型（data_type）

***

#### 一、查询所有规格值数据类型

GET：/data_type

> 接口参数

```
无
```

> 返回数据

```
[
	{
		"data_type_id":规格值数据类型id,
		"data_type":"规格值数据类型"        
	},
	{
		"data_type_id":规格值数据类型id,
		"data_type":"规格值数据类型"
	}    
]
```

